---
title: 安装
description: 在 Nuxt 项目中安装和配置 Movk Nuxt 模块
---

## 环境要求

在开始之前，请确保你的开发环境满足以下要求：

::callout{color="info"}
- **Node.js** - `18.x` 或更高版本
- **Nuxt** - `4.2.0` 或更高版本
- **包管理器** - pnpm、npm 或 yarn
::

## 安装依赖

::code-group
```bash [pnpm]
pnpm add @movk/nuxt
```

```bash [npm]
npm install @movk/nuxt
```

```bash [yarn]
yarn add @movk/nuxt
```
::

::tip
Movk Nuxt 依赖 **@nuxt/ui** 提供基础组件。
::

## 模块配置

Movk Nuxt 支持以下配置选项：

```ts [nuxt.config.ts]
export default defineNuxtConfig({
  modules: ['@movk/nuxt'],

  movk: {
    // 组件前缀 (默认: 'M')
    prefix: 'M'
  }
})
```

### 配置选项

| 选项 | 类型 | 默认值 | 说明 |
|------|------|--------|------|
| `prefix`{lang="ts-type"} | `string` | `'M'` | 全局组件前缀，如 `MAutoForm`、`MAutoTable` 等 |

## TypeScript 支持

Movk Nuxt 提供完整的 TypeScript 类型定义。安装后，类型会自动生成并注入到你的项目中。

::tip
你可以在 IDE 中享受完整的类型提示和自动补全：
::

```ts
import type { z } from 'zod/v4'

// 类型会自动推断
const { afz } = useAutoForm()

const schema = afz.object({
  email: afz.email(), // ✅ 自动提示所有方法
  age: afz.number()   // ✅ 类型安全
})

// 从 schema 推断数据类型
type Schema = z.output<typeof schema>
```

## Zod v4 集成

Movk Nuxt 使用 **Zod v4**，它引入了一些重要的 API 变更：

::code-group
```ts [✅ 正确用法 (Zod v4)]
import { z } from 'zod/v4'

// 使用专用验证函数
const emailSchema = z.email()
const urlSchema = z.url()
const uuidSchema = z.uuid()
const datetimeSchema = z.iso.datetime()
```

```ts [❌ 已废弃 (Zod v3)]
import { z } from 'zod'

// 不要使用旧的字符串验证方法
const emailSchema = z.string().email()
const urlSchema = z.string().url()
const uuidSchema = z.string().uuid()
```
::

::tip{icon="i-lucide-book-open" to="https://zod.dev/api"}
查看 Zod 官方文档了解更多 v4 变更
::
