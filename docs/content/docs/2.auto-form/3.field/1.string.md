---
title: String
description: String 字段类型的使用方法和配置选项
---

## Usage

::note{to="https://zod.dev/api#strings"}
使用 `afz.string()` 创建字符串字段：
::

### Input

::callout{color="neutral" to="https://ui.nuxt.com/docs/components/input"}
Input 组件文档
::

基础输入框，通过 `controlProps` 配置图标、颜色等属性：

::component-example
---
name: 'auto-form-field-string-input-example'
collapse: true
props:
  class: 'px-4'
---
::

### Textarea

::callout{color="neutral" to="https://ui.nuxt.com/docs/components/textarea"}
Textarea 组件文档
::

多行文本输入，设置 `type: 'textarea'`，支持自动调整高度：

::component-example
---
name: 'auto-form-field-string-textarea-example'
collapse: true
props:
  class: 'px-4'
---
::

### WithClear

输入内容后显示清除按钮，设置 `type: 'withClear'`:

::component-example
---
name: 'auto-form-field-string-with-clear-example'
collapse: true
props:
  class: 'px-4'
---
::

### WithPasswordToggle

密码输入框，可切换显示/隐藏，设置 `type: 'withPasswordToggle'`:

::component-example
---
name: 'auto-form-field-string-with-password-toggle-example'
collapse: true
props:
  class: 'px-4'
---
::

### WithCopy

点击复制按钮快速复制内容，设置 `type: 'withCopy'`:

::component-example
---
name: 'auto-form-field-string-with-copy-example'
collapse: true
props:
  class: 'px-4'
---
::

### WithCharacterLimit

实时显示剩余字符数，设置 `type: 'withCharacterLimit'`:

::component-example
---
name: 'auto-form-field-string-with-character-limit-example'
collapse: true
props:
  class: 'px-4'
---
::

### PinInput

::callout{color="neutral" to="https://ui.nuxt.com/docs/components/pin-input"}
PinInput 组件文档
::

验证码或 PIN 码输入，设置 `type: 'pinInput'`:

::component-example
---
name: 'auto-form-field-string-pin-input-example'
collapse: true
props:
  class: 'px-4'
---
::

### InputMenu

::callout{color="neutral" to="https://ui.nuxt.com/docs/components/input-menu"}
InputMenu 组件文档
::

支持输入和下拉选择，设置 `type: 'inputMenu'`:

::component-example
---
name: 'auto-form-field-string-input-menu-example'
collapse: true
props:
  class: 'px-4'
---
::

### ColorChooser

颜色选择器,支持可视化颜色选择和格式化,设置 `type: 'colorChooser'`:

::component-example
---
name: 'auto-form-field-string-color-chooser-example'
collapse: true
props:
  class: 'px-4'
---
::

## 字符串格式验证

::note{to="https://zod.dev/api#string-formats"}
Zod v4 提供了专用的字符串验证方法：
::

::warning
**Zod v4 迁移提示**

Zod v4 移除了 `z.string().email()` 等方法，改为专用函数：

```ts
// ❌ Zod v3 写法（已废弃）
z.string().email()

// ✅ Zod v4 正确写法
afz.email()
```
::

## Examples

### 动态类型

通过交互式示例探索字符串字段的各种类型和配置选项，包括：普通输入框、文本域、密码切换、清除按钮、复制功能、字符限制等增强功能，以及尺寸、颜色、行数等样式配置。

::component-example
---
name: 'auto-form-field-string-type-example'
collapse: true
props:
  class: 'px-4'
options:
  - name: 'type'
    label: 'type'
    items:
      - 'string'
      - 'textarea'
      - 'withPasswordToggle'
      - 'withClear'
      - 'withCopy'
      - 'withCharacterLimit'
    default: 'withCharacterLimit'
  - name: 'color',
    items:
      - 'error'
      - 'primary'
      - 'secondary'
      - 'success'
      - 'info'
      - 'warning'
      - 'neutral'
    default: 'primary'
  - name: 'size'
    label: 'size'
    items:
      - 'sm'
      - 'xs'
      - 'md'
      - 'lg'
      - 'xl'
    default: 'sm'
  - name: 'rows'
    label: 'rows'
    default: 5
  - name: 'maxLength'
    label: 'maxLength'
    default: 20
---
::

### 异步验证

使用 `.refine()` 方法配合异步函数实现服务端验证，例如检查用户名或邮箱是否已被占用：

::component-example
---
name: 'auto-form-field-string-async-validation-example'
collapse: true
props:
  class: 'px-4'
---
::
