---
title: API
description: AutoForm 组件的完整 API 参考文档
---

## 基础用法

展示了创建一个最基本表单所需的代码。

::component-example
---
name: 'auto-form-basic-example'
prettier: false
collapse: true
props:
  class: 'px-4'
---
::

## API

### Props

:component-props{slug=MAutoForm}

### Slots

:component-slots{slug=MAutoForm}

::note{icon="i-lucide-sparkles"}
除了组件级别的插槽外，AutoForm 还支持**字段级别的动态插槽**，并提供完整的 TypeScript 类型推断和编辑器自动补全。
::

**字段插槽命名规则**：

| 插槽模式 | 示例 | 说明 |
|---------|------|------|
| `field-{slotType}`{lang="ts-type"} | `field-label`{lang="ts-type"}, `field-default`{lang="ts-type"} | 通用插槽，适用于所有字段 |
| `field-{slotType}:{fieldKey}`{lang="ts-type"} | `field-label:username`{lang="ts-type"}, `field-default:email`{lang="ts-type"} | 特定字段插槽，享受**完整类型推导** |
| `field-{position}:{fieldKey}`{lang="ts-type"} | `field-before:profile`{lang="ts-type"}, `field-content:tasks`{lang="ts-type"} | 嵌套字段布局插槽 |

**可用的插槽类型**（`slotType`）：
- `label`{lang="ts-type"} - 自定义字段标签
- `hint`{lang="ts-type"} - 自定义提示信息
- `description`{lang="ts-type"} - 自定义字段描述
- `help`{lang="ts-type"} - 自定义帮助文本
- `error`{lang="ts-type"} - 自定义错误信息显示
- `default`{lang="ts-type"} - 自定义字段控件

::tip{icon="i-lucide-sparkles"}
**类型提示优势**：当你在模板中使用字段插槽时（如 `#field-default:username`），编辑器会自动提示插槽参数的类型，包括 `state`、`path`、`value`、`setValue` 等上下文属性，并根据 Schema 精确推断字段值类型。
::

### Emits

:component-emits{slug=MAutoForm}

### Expose

使用 [`useTemplateRef`](https://cn.vuejs.org/guide/essentials/template-refs) 访问类型化的组件实例：

```vue
<script setup lang="ts">
const autoFormRef = useTemplateRef('autoFormRef')

function handleReset() {
  autoFormRef.value?.reset()
}

async function handleSubmit() {
  await autoFormRef.value?.formRef?.submit()
}
</script>

<template>
  <MAutoForm ref="autoFormRef" />
</template>
```

**AutoForm 暴露的方法和属性**：

| 名称 | 类型 |
| ---- | ---- |
| `reset()`{lang="ts-type"} | `void`{lang="ts-type"} <br> <div class="text-toned mt-1">重置表单到初始状态，包括恢复 props 中的 `state` 和应用所有默认值</div> |
| `clear()`{lang="ts-type"} | `void`{lang="ts-type"} <br> <div class="text-toned mt-1">清空表单所有字段数据</div> |
| `formRef`{lang="ts-type"} | `Ref<InstanceType<typeof UForm> \| null>`{lang="ts-type"} <br> <div class="text-toned mt-1">UForm 组件的模板引用，可访问底层表单的所有方法和属性</div> |

::tip{to="https://ui.nuxt.com/docs/components/form#expose"}
通过 `formRef` 可以访问 UForm 的所有底层功能，包括 `submit()`、`validate()`、`clear()`、`getErrors()`、`setErrors()` 等方法，以及 `errors`、`disabled`、`dirty`、`dirtyFields`、`touchedFields`、`blurredFields` 等响应式属性。详见 Nuxt UI Form 文档。
::
