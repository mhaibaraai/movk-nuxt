---
title: 快速开始
description: 了解 AutoForm 的核心设计理念和基本使用方式
---

## 什么是 AutoForm

AutoForm 是一个基于 Zod Schema 的自动表单生成系统。通过声明式的 Schema 定义，自动生成完整的表单界面，包括输入控件、验证规则和布局结构。

::callout{icon="i-lucide-lightbulb" color="primary"}
**核心优势**
- **Schema 即表单** - 一份 Schema 同时定义数据结构、验证规则和 UI 配置
- **类型安全** - 完整的 TypeScript 类型推断，从 Schema 到表单数据
- **零模板代码** - 无需手写 `v-for` 或重复的表单字段模板
::

## 快速开始

### 基础示例

创建一个简单的用户注册表单：

::component-example
---
name: 'auto-form-basic-example'
collapse: true
props:
  class: 'px-4'
---
::

### 代码解析

```vue
<script setup lang="ts">
import type { FormSubmitEvent } from '@nuxt/ui'
import type { z } from 'zod/v4'

const { afz } = useAutoForm()
const toast = useToast()

// 1. 定义 Schema
const schema = afz.object({
  username: afz.string().min(3).meta({ label: '用户名' }),
  email: afz.email().meta({ label: '邮箱' }),
  age: afz.number().min(18).meta({ label: '年龄' })
})

// 2. 类型推导
type Schema = z.output<typeof schema>

// 3. 表单状态
const form = ref<Partial<Schema>>({})

// 4. 提交处理
async function onSubmit(event: FormSubmitEvent<Schema>) {
  toast.add({
    title: '提交成功',
    description: JSON.stringify(event.data, null, 2)
  })
}
</script>

<template>
  <!-- 5. 渲染表单 -->
  <MAutoForm :schema="schema" :state="form" @submit="onSubmit" />
</template>
```

## 核心概念

### Schema 定义

[`useAutoForm`](/docs/composables/use-auto-form) 返回核心对象 `afz`（AutoForm Zod），它是 [Zod](https://zod.dev/) 的增强版封装。

```ts
const { afz } = useAutoForm()

const schema = afz.object({
  username: afz.string().min(3),
  email: afz.email(),
  age: afz.number().min(18)
})
```

::warning{title="为什么使用 afz 而不是原生 z？"}

`afz` 代理了 Zod 的方法，自动拦截并注入 AutoForm 元数据。这确保了：

1. **元数据传递** - UI 配置（如 `label`、`placeholder`）能正确传递给表单组件
2. **链式调用保留** - 调用 `.optional()`、`.default()` 等方法时元数据不会丢失
3. **控件映射** - 自动将 Zod 类型映射到对应的 UI 控件

::code-group
```ts [✅ 正确用法]
// 使用 afz，元数据完整传递
const schema = afz.object({
  username: afz.string().meta({ label: '用户名' }).optional()
})
```

```ts [⚠️ 不推荐]
// 原生 Zod 可能丢失 UI 配置
import { z } from 'zod/v4'
const schema = z.object({
  username: z.string() // 无法配置 label、placeholder 等
})
```
::
::

### 控件映射

AutoForm 根据 Zod 类型自动选择对应的 UI 控件：

| afz 方法 | 默认控件 | 说明 |
|----------|----------|------|
| `afz.string()` | `UInput`{lang="ts-type"} | 文本输入框 |
| `afz.number()` | `UInputNumber`{lang="ts-type"} | 数字输入框 |
| `afz.boolean()` | `UCheckbox`{lang="ts-type"} | 复选框 |
| `afz.enum()` | `USelect`{lang="ts-type"} | 下拉选择器 |
| `afz.file()` | `UFileUpload`{lang="ts-type"} | 文件上传 |
| `afz.date()` | `DatePicker`{lang="ts-type"} | 日期选择器 |

::tip{to="/docs/auto-form/configuration#控件类型映射"}
查看所有可用的控件类型和自定义映射方式。
::

### 元数据配置

使用 `.meta()` 方法配置字段的 UI 属性：

```ts
const schema = afz.object({
  username: afz.string()
    .min(3, '用户名至少 3 个字符')
    .meta({
      label: '用户名',
      description: '请输入您的用户名',
      hint: '3-20 个字符',
      placeholder: '请输入',
      required: true
    })
})
```

::tip{to="/docs/auto-form/configuration#元数据配置"}
了解所有可用的元数据属性和配置优先级。
::

## 下一步

::card-group
  ::card
  ---
  title: 字段类型
  icon: i-lucide-type
  to: /docs/auto-form/field
  ---
  了解 AutoForm 支持的所有字段类型及其用法
  ::

  ::card
  ---
  title: 配置系统
  icon: i-lucide-settings
  to: /docs/auto-form/configuration
  ---
  深入掌握元数据、控件配置和全局配置
  ::

  ::card
  ---
  title: 插槽系统
  icon: i-lucide-puzzle
  to: /docs/auto-form/slots
  ---
  学习如何自定义表单的各个部分
  ::

  ::card
  ---
  title: 布局系统
  icon: i-lucide-layout
  to: /docs/auto-form/layout
  ---
  掌握表单布局和组织结构的控制
  ::

  ::card
  ---
  title: 进阶功能
  icon: i-lucide-sparkles
  to: /docs/auto-form/advanced
  ---
  探索条件渲染、动态数组等高级特性
  ::

  ::card
  ---
  title: API 参考
  icon: i-lucide-book-open
  to: /docs/auto-form/api
  ---
  查看完整的 Props、Slots、Emits 文档
  ::
::
